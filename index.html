<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Asesor Acad√©mico ‚Äì Salud | TECH</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --tech-blue:#003A8C;   /* Azul institucional */
      --tech-blue-600:#0b5fff;
      --tech-red:#D81E24;    /* Acento */
      --text:#0f172a;
      --muted:#64748b;
      --bg:#f4f6f9;
      --card:#ffffff;
      --ring:#c7d2fe;
      --radius:16px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial; color:var(--text); background:var(--bg);}
    .shell{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{
      width:100%;max-width:520px;background:var(--card);border-radius:var(--radius);
      box-shadow:0 10px 30px rgba(2,6,23,.08);overflow:hidden;border:1px solid #e5e7eb;
    }
    .card-head{
      background:linear-gradient(135deg,var(--tech-blue),#012c68);
      color:#fff;padding:28px 24px;border-bottom:1px solid rgba(255,255,255,.12);
    }
    .brand{display:flex;align-items:center;gap:12px}
    .brand .logo{
      width:36px;height:36px;border-radius:10px;background:#fff1;display:flex;align-items:center;justify-content:center;border:1px solid #ffffff33;
      font-weight:800;letter-spacing:.5px;
    }
    .brand h1{font-size:20px;line-height:1.2;margin:0}
    .subtitle{margin:8px 0 0;font-size:14px;color:#e6eefc}
    .emph{color:#fff;font-weight:700}

    .card-body{padding:22px}
    label{font-weight:600;font-size:14px;display:block;margin:14px 0 6px}
    input,select,textarea{
      width:100%;padding:12px 12px;border:1px solid #d1d5db;border-radius:12px;background:#fff;font-size:15px;
      outline:none;transition:border .15s, box-shadow .15s;
    }
    textarea{resize:vertical;min-height:72px}
    input:focus,select:focus,textarea:focus{
      border-color:var(--tech-blue-600);
      box-shadow:0 0 0 3px var(--ring);
    }
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .hint{font-size:12px;color:var(--muted);margin-top:8px}
    .cta{
      width:100%;margin-top:18px;background:var(--tech-blue);color:#fff;border:none;border-radius:12px;
      padding:13px 14px;font-weight:700;font-size:16px;cursor:pointer;transition:filter .2s, transform .02s;
    }
    .cta:hover{filter:brightness(1.05)}
    .cta:active{transform:translateY(1px)}
    .foot{
      padding:14px 22px;border-top:1px solid #eef2f7;background:#fafbff;color:#475569;font-size:12.5px;text-align:center;
    }
    .ok{color:#0f766e;font-weight:600}
    .err{color:#b91c1c;font-weight:600}

    /* Tarjetas de contacto (nuevo) */
    .contact-options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 6px;
    }
    .contact-card {
      flex: 1 1 48%;
      display: flex;
      align-items: center;
      gap: 10px;
      background: #f8fafc;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 12px 14px;
      cursor: pointer;
      transition: all 0.2s ease;
      font-size: 14px;
      color: #1e293b;
      text-align: left;
      min-height: 60px;
      user-select: none;
    }
    .contact-card:hover {
      border-color: var(--tech-blue);
      background: #f0f5ff;
    }
    .contact-card input[type="radio"] {
      accent-color: var(--tech-blue);
      width: 18px;
      height: 18px;
    }
    .contact-card span {
      line-height: 1.2;
    }

    @media (max-width: 480px){
      .grid-2{grid-template-columns:1fr}
      .contact-card{flex:1 1 100%}
    }
  </style>
</head>
<body>
  <main class="shell">
    <section class="card" aria-label="Formulario de asesor acad√©mico">
      <header class="card-head">
        <div class="brand">
          <div class="logo">T</div>
          <h1>Asesor Acad√©mico ‚Äì Salud</h1>
        </div>
        <p class="subtitle">
          Te ayudamos a elegir el programa ideal.
          <span class="emph">Becas acad√©micas disponibles en programas seleccionados (plazas limitadas).</span>
        </p>
      </header>

      <div class="card-body">
        <form id="leadForm" novalidate>
          <label for="nombre">Nombre completo</label>
          <input id="nombre" name="nombre" type="text" placeholder="Tu nombre completo" required />

          <div class="grid-2">
            <div>
              <label for="pais">Pa√≠s</label>
              <input id="pais" name="pais" type="text" placeholder="Ej. Per√∫, Chile..." required />
            </div>
            <div>
              <label for="correo">Correo</label>
              <input id="correo" name="correo" type="email" placeholder="tucorreo@ejemplo.com" required />
            </div>
          </div>

          <label for="interes">√Årea de inter√©s</label>
          <select id="interes" name="interes" required>
            <option value="">Selecciona...</option>
            <option>Psicolog√≠a</option>
            <option>Nutrici√≥n</option>
            <option>Fisioterapia</option>
          </select>

          <div class="grid-2">
            <div>
              <label for="tipo">Tipo de programa</label>
              <select id="tipo" name="tipo" required>
                <option value="">Selecciona...</option>
                <option>M√°ster</option>
                <option>Diplomado</option>
                <option>Programa de Especializaci√≥n</option>
              </select>
            </div>
            <div>
              <label for="objetivo">Objetivo principal</label>
              <select id="objetivo" name="objetivo" required>
                <option value="">Selecciona...</option>
                <option>Cambiar de √°rea o especialidad</option>
                <option>Mejorar mi puesto o salario</option>
                <option>Actualizar conocimientos</option>
                <option>Empezar mi primera formaci√≥n en salud</option>
              </select>
            </div>
          </div>

          <label for="inicio">¬øCu√°ndo te gustar√≠a empezar a estudiar?</label>
          <select id="inicio" name="inicio" required>
            <option value="">Selecciona...</option>
            <option>Lo antes posible</option>
            <option>En 1 o 2 meses</option>
            <option>Solo busco informaci√≥n por ahora</option>
          </select>

          <label class="block font-semibold text-gray-700 mb-3">¬øC√≥mo prefieres que te contactemos?</label>
          <div class="contact-options">
            <label class="contact-card">
              <input type="radio" name="preferencia" value="WhatsApp" />
              <span>üìû Agendar llamada <br><strong>por WhatsApp</strong></span>
            </label>

            <label class="contact-card">
              <input type="radio" name="preferencia" value="Email" checked />
              <span>‚úâÔ∏è Recibir informaci√≥n <br><strong>por Email</strong></span>
            </label>
          </div>

          <label for="comentarios">¬øQuieres contarnos algo m√°s? <span class="hint">(opcional)</span></label>
          <textarea id="comentarios" name="comentarios" placeholder="Ej.: trabajo en cl√≠nica, me interesa el √°rea organizacional, etc."></textarea>

          <button type="submit" class="cta">Enviar</button>
          <p id="estado" class="hint" role="status" aria-live="polite"></p>
        </form>
      </div>

      <footer class="foot">
        ¬© TECH Universidad Tecnol√≥gica ¬∑ Atenci√≥n acad√©mica 100 % online
      </footer>
    </section>
  </main>

  <script>
    const WEBHOOK = "https://hook.eu2.make.com/57sxk8eobf7gmlqxgusyr71p60z6fxdo";
    const estado = document.getElementById('estado');
    const f = document.getElementById('leadForm');

    function setEstado(msg, ok=false){
      estado.textContent = msg;
      estado.className = ok ? 'hint ok' : 'hint err';
    }

    // Lead score sencillo para priorizar (0‚Äì4)
    function calcularLeadScore({objetivo, pais, preferencia, tipo}){
      let s = 0;
      if (objetivo === "Cambiar de √°rea o especialidad" || objetivo === "Mejorar mi puesto o salario") s += 2;
      if (["Per√∫","Chile","M√©xico","Colombia","Argentina"].includes((pais||"").trim())) s += 1;
      if (preferencia === "WhatsApp") s += 1;
      return s;
    }

    f.addEventListener('submit', async (e)=>{
      e.preventDefault();

      const data = {
        nombre: f.nombre.value.trim(),
        pais: f.pais.value.trim(),
        correo: f.correo.value.trim(),
        interes: f.interes.value,
        tipo: f.tipo.value,
        objetivo: f.objetivo.value,
        inicio: f.inicio.value,
        preferencia: (new FormData(f).get('preferencia')) || 'Email',
        comentarios: f.comentarios.value.trim()
      };

      if (!data.nombre || !data.correo){
        setEstado('Por favor, completa nombre y correo.');
        alert('Completa nombre y correo para continuar.');
        return;
      }

      const lead_score = calcularLeadScore({
        objetivo: data.objetivo,
        pais: data.pais,
        preferencia: data.preferencia,
        tipo: data.tipo
      });

      const payload = {
        ...data,
        lead_score,
        origen: "Widget Asesor Acad√©mico ‚Äì Salud",
        fecha_iso: new Date().toISOString()
      };

      try{
        const resp = await fetch(WEBHOOK,{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(payload)
        });
        if(!resp.ok) throw new Error('HTTP '+resp.status);
        setEstado('Datos enviados correctamente. ¬°Gracias por tu inter√©s!', true);
        f.reset();
      }catch(err){
        console.error(err);
        setEstado('No se pudo enviar. Revisa tu conexi√≥n e int√©ntalo de nuevo.');
        alert('‚ö†Ô∏è Ocurri√≥ un error al enviar. Intenta nuevamente.');
      }
    });
  </script>
</body>
</html>
